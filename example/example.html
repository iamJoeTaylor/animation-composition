<html>
  <head>
    <style>
      body { background: #666; }
    </style>
  </head>
  <body>
    <canvas />

    <script src="/dist/animation-composition.js"></script>
    <script>
      const { Animation, Layer, MaskLayer, ColorLayer, Utils } = animationComposition.default
      const { imageStringIterator } = Utils;

      const PATH = '/example/';
      const color = 'fuchsia';
      const avatarImage = 'https://s.gravatar.com/avatar/71984c1e86b3a6dce833f047d4d000cc?size=50&amp;default=retro';

      const canvas = document.querySelector('canvas');

      const border = new Layer({
        images: imageStringIterator(`${PATH}ripple-web/border/ripple_border_XX_xhdpi.png`, 0, 29)
      });

      const colorLayer = new ColorLayer({ color });
      const fill = new Layer({
        images: imageStringIterator(`${PATH}ripple-web/fill/ripple_fill_XX_xhdpi.png`, 0, 29)
      });
      const participantLayer = new MaskLayer({ name: 'participantLayer', mask: fill, layers: [ colorLayer ]});

      const avatarMask = new Layer({ images: imageStringIterator(`${PATH}ripple-web/mask/ripple_mask_XX_xhdpi.png`, 0, 29) });
      const avatarImageLayer = new Layer({ images: [ avatarImage ], sizeRef: avatarMask });
      const avatarLayer = new MaskLayer({ mask: avatarMask, layers: [ avatarImageLayer ]});

      new Animation({
        ticksPerFrame: 1,
        canvas,
        layers: [ border, participantLayer, avatarLayer ],
      });
    </script>
  </body>
</html>
